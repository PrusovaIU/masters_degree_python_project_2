# Примитивная база данных
Домашнее задание по предмету "Основы Python". Проект №2

Необходимо реализовать "примитивную" базу данных.

## Обзор проекта и используемые технологии
### Ключевые технологии и концепции

Проект охватывает широкий спектр тем, необходимых для современной разработки на Python:
* Управление проектом: 
  * Poetry для инициализации, управления зависимостями и сборки пакета. 
  * Makefile для автоматизации рутинных команд.
* Контроль версий: 
  * Git для отслеживания изменений. Рекомендуется вести разработку по методике ветвления Gitflow или Github Flow.
* Качество кода: 
  * Ruff для статического анализа и форматирования кода в соответствии со стандартом PEP8.
* Основы Python: 
  * базовые структуры данных (словари, списки), 
  * работа с файлами (формат JSON), 
  * обработка строк для парсинга команд, 
  * а также использование функций, циклов и условных операторов.
* Продвинутые аспекты Python: 
  * применение try...except для обработки исключений, 
  * использование декораторов для расширения функциональности (логирование, подтверждение действий) и замыканий для реализации кэширования.

### Библиотеки и зависимости

* Внешние: 
  * ruff (для разработки), 
  * prettytable (для форматированного вывода).
* Стандартные: 
  * json для работы с файлами, 
  * shlex для безопасного парсинга команд (Важно: Модуль shlex предназначен только для оболочек Unix), 
  * time для измерения времени выполнения.

### Процесс разработки

* Продолжительность: Проект рассчитан на 1-2 недели самостоятельной работы.
* Методология: Разработку необходимо вести с использованием Git. В конце каждой успешно выполненной задачи из подраздела рекомендуется делать осмысленный commit. Это поможет отслеживать прогресс и легко возвращаться к предыдущим версиям в случае проблем.
* Результат: Вы создадите полноценное консольное приложение, имитирующее работу с базой данных, которое можно установить и запустить как самостоятельный пакет.

### Примечание

В этом проекте предполагается использовать процедурное программирование, но самые опытные могут попытаться 
воспользоваться классами.

## Запуск

### Установка зависимостей

Проект использует [Poetry](https://python-poetry.org/) для управления зависимостями. 
Если Poetry у вас ещё не установлен, вы можете установить его следующим образом:

```bash
pip install poetry
```

После установки Poetry выполните команду для установки всех зависимостей:

```bash
poetry install
```

или MakeFile:

```bash
make install
```

### Запуск

Для запуска используйте команду:

```bash
poetry run project -c <путь до файла конфигурации>
```

или Makefile:

```bash
make project CONFIG_DIR=<путь до файла конфигурации>
```

### Файл конфигурации

Для настройки приложения используется файл конфигурации формата json.

Шаблон файла:

```json
{
  "database_path": "<путь до директории, в которой располагаются файлы БД>"
}
```

## Управление таблицами

### Команды:

<table>
    <tr>
        <th>Команда</th>
        <th>Формат</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>create_table</td>
        <td>
            create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> ..
        </td>
        <td>создать таблицу</td>
    </tr>
    <tr>
        <td>list_tables</td>
        <td>list_tables</td>
        <td>показать список таблиц</td>
    </tr>
    <tr>
        <td>drop_table</td>
        <td>drop_table <имя_таблицы></td>
        <td>удалить таблицу</td>
    </tr>
</table>

[![asciicast](https://asciinema.org/a/4CZm5TzJDEtwJXGtm9nL4r3bj.svg)](https://asciinema.org/a/4CZm5TzJDEtwJXGtm9nL4r3bj)

## CRUD-операции

### Команды:

<table>
    <tr>
        <th>Команда</th>
        <th>Формат</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>insert</td>
        <td>
            insert into <имя_таблицы> values (<значение1>, <значение2>, ...)
        </td>
        <td>создать запись</td>
    </tr>
    <tr>
        <td>select</td>
        <td>select from <имя_таблицы>[ where <столбец> = <значение>]</td>
        <td>прочитать записи</td>
    </tr>
    <tr>
        <td>update</td>
        <td>
            update <имя_таблицы> set <столбец1> = <новое_значение1> where <столбец_условия> = <значение_условия>
        </td>
        <td>обновить запись</td>
    </tr>
    <tr>
        <td>delete</td>
        <td>delete from <имя_таблицы> where <столбец> = <значение></td>
        <td>удалить записи</td>
    </tr>
    <tr>
        <td>info</td>
        <td>info <имя_таблицы></td>
        <td>вывести информацию о таблице</td>
    </tr>
</table>

[![asciicast](https://asciinema.org/a/hLTFOjr9IiiByHXKDemf6aeaR.svg)](https://asciinema.org/a/hLTFOjr9IiiByHXKDemf6aeaR)

